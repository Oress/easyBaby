<section class="mb-2">
    <h4 class="text-2xl font-semibold leading-tight mb-2" style="border-bottom: 1px solid gray">My Preorders:</h4>
    <p-panel *ngFor="let item of preorders" [header]="getOrderHeader(item)" [collapsed]="true" [toggleable]="true">
        <div>
            <div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid" style="margin: 10px 0px">
                <div class="ui-grid-row">
                    <div class="ui-grid-col-2">
                        Every
                    </div>
                    <div class="ui-grid-col-2">
                        {{item.count}}
                    </div>
                    <div class="ui-grid-col-2">
                        <div [ngSwitch]="item.timePeriodType">
                            <div *ngSwitchCase="preorderTypePeriod.WEEK">Week</div>
                            <div *ngSwitchCase="preorderTypePeriod.MONTH">Month</div>
                            <div *ngSwitchCase="preorderTypePeriod.QUARTER">Quarter</div>
                        </div>
                    </div>
                </div>
                <div class="ui-grid-row">
                    <div class="ui-grid-col-2">
                        To:
                    </div>
                    <div class="ui-grid-col-10">
                        {{item.name}}
                    </div>
                </div>
                <div class="ui-grid-row">
                    <div class="ui-grid-col-2">
                        Address:
                    </div>
                    <div class="ui-grid-col-10">
                        {{item.address}}
                    </div>
                </div>
                <div class="ui-grid-row">
                    <div class="ui-grid-col-2">
                        Phone:
                    </div>
                    <div class="ui-grid-col-10">
                        {{item.phone}}
                    </div>
                </div>
                <div class="ui-grid-row">
                    <div class="ui-grid-col-2">
                        Delivery Type:
                    </div>
                    <div class="ui-grid-col-8">
                        <div [ngSwitch]="item.shipmentType">
                            <div *ngSwitchCase="deliveryType.PICKUP">Pick-up</div>
                            <div *ngSwitchCase="deliveryType.DELIVERY">Delivery</div>
                        </div>
                    </div>
                </div>
                <div class="ui-grid-row">
                    <div class="ui-grid-col-2">
                        Payment Type:
                    </div>
                    <div class="ui-grid-col-10">
                        <div [ngSwitch]="item.paymentType">
                            <div *ngSwitchCase="paymentType.UPON_RECIPT">Payment upon receipt</div>
                            <div *ngSwitchCase="paymentType.CARD_ONLINE">Card Online</div>
                        </div>
                    </div>
                </div>
                <div>
                    <table class="min-w-full leading-normal">
                        <thead>
                            <tr>
                                <th
                                    class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                                    Product
                                </th>
                                <th
                                    class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                                    Quantity
                                </th>
                                <th
                                    class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                                    Price Per Item
                                </th>
                                <th
                                    class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                                    Total Price
                                </th>
                            </tr>
                        </thead>
                        <tbody>

                            <tr *ngFor="let orderItem of item.preorderItems">
                                <td [routerLink]="['/product/'+orderItem.productId]"
                                    class="cursor-pointer px-5 py-5 border-b border-gray-200 text-sm">
                                    <div class="flex items-center">
                                        <div class="flex-shrink-0 w-10 h-10">
                                            <img *ngIf="orderItem.image; else defImage"
                                                [src]="'/api/product/img?uid=' + orderItem.image.path_sm">
                                            <ng-template #defImage>
                                                <img src="assets/images/no_image.png">
                                            </ng-template>
                                        </div>
                                        <div class="ml-3">
                                            <p class="text-gray-900 whitespace-no-wrap">
                                                {{orderItem.productTitle}}
                                            </p>
                                        </div>
                                    </div>
                                </td>
                                <td class="px-5 py-5 border-b border-gray-200 text-sm">
                                    <p class="text-gray-900 whitespace-no-wrap">
                                        {{orderItem.count}}
                                    </p>
                                </td>
                                <td class="px-5 py-5 border-b border-gray-200 text-sm">
                                    <p class="text-gray-900 whitespace-no-wrap">
                                        {{orderItem.productPrice  | currency:"UAH":"symbol-narrow"}}
                                    </p>
                                </td>
                                <td class="px-5 py-5 border-b border-gray-200 text-sm">
                                    <p class="text-gray-900 whitespace-no-wrap">
                                        {{orderItem.totalPrice  | currency:"UAH":"symbol-narrow"}}
                                    </p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </p-panel>
</section>